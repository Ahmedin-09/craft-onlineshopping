<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" doc:id="94dc9901-36ac-44ab-9e96-8bf870c7dab7" >
		<http:listener-connection host="0.0.0.0" port="8081" />
	</http:listener-config>
	<flow name="GetAllProducts" doc:id="5d5e344c-02b1-44a7-b67e-9d10747e8f6c" >
		<http:listener doc:name="Listener" doc:id="a26480d5-85bf-4728-b3b9-675dee214f31" config-ref="HTTP_Listener_config" path="/products"/>
		<ee:transform doc:name="Transform Message" doc:id="547d6222-89fa-4337-a39b-f410293e556b" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

 [{
    "productid": 5,
    "categoryid": 16,
    "name": "LENOVO PC",
    "description": "CORE I 5",
    "video_url": "WWW.LENOVO.COM",
    "price": 1200
  },
  {
    "productid": 6,
    "categoryid": 15,
    "name": "DELL PC",
    "description": "CORE I 5",
    "video_url": "WWW.DELL.COM",
    "price": 700
  }]
]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetAllProductsByid" doc:id="bf51b38d-3a77-42d9-a833-d0f0db689fb2" >
		<http:listener doc:name="Listener" doc:id="428a6260-a58d-48f5-9507-4f845d095843" config-ref="HTTP_Listener_config" path="/product/{id}"/>
		<ee:transform doc:name="Transform Message" doc:id="a52a496e-8cbb-42c6-8bc6-c39f9cc89502" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

   {
    "productid": 5,
    "categoryid": 12,
    "name": "LENOVO PC",
    "description": "CORE I 5",
    "video_url": "WWW.LENOVO.COM",
    "price": 1200
  }
]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="Postuser" doc:id="b052dda2-a635-43e1-9042-aa6b7288e6da" >
		<http:listener doc:name="Listener" doc:id="de23a97f-593d-44fe-91d3-797f023961ad" config-ref="HTTP_Listener_config" path="/postuser"/>
		<ee:transform doc:name="Transform Message" doc:id="8fa92eaa-eb5b-40e6-abcc-4b20c3149d51" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
"uid":1245
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetUserByid" doc:id="df94dd26-18df-43a7-8271-491441a39a34" >
		<http:listener doc:name="Listener" doc:id="26423e4a-d213-4fa3-8030-c8c42ca61245" config-ref="HTTP_Listener_config" path="/user/{id}"/>
		<ee:transform doc:name="Transform Message" doc:id="ad20bd2b-e45b-4b63-989a-4b7372a5a5c1" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  {
  "date_joined": 
    "date": 2/12/2020,
    "day": 2,
    "hours": 5,
    "minutes": 25,
    "month": 2,
    "nanos": 0,
    "seconds": 5,
    "time": 15,
    "timezoneOffset": 0,
    "year": 2020
  }
]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetAllusers" doc:id="9a7e68d5-3146-47c7-9af2-adb46c931fbe" >
		<http:listener doc:name="Listener" doc:id="6fcccaa0-2c4a-4158-9ab4-3c89f5844122" config-ref="HTTP_Listener_config" path="/users"/>
		<ee:transform doc:name="Transform Message" doc:id="80dd59fa-e579-4d78-bf40-fc82327cfd19" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  [
  {
    "userid": 900,
    "email": "abcdkkk@gmail.com",
    "date_joined": -1573012800000,
    "modified": 1582747201000,
    "type": 1,
    "deleted": false,
    "username": "Abc"
  },
  {
    "userid": 1000,
    "email": "Betty@gmail.com",
    "date_joined": 1589068800000,
    "modified": 1586044800000,
    "type": 5,
    "deleted": false,
    "username": "Cristina"
  },
  {
    "userid": 1001,
    "email": "tome_same123@gmail.com",
    "date_joined": 1600341731000,
    "modified": 1495841175000,
    "type": 7,
    "deleted": false,
    "username": "Tome Same"
  }] 

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetCategoryByid" doc:id="ea1f0220-513b-4a22-9529-73e3ed600441" >
		<http:listener doc:name="Listener" doc:id="c4ff5935-191c-49e2-be22-5277f72f8f35" config-ref="HTTP_Listener_config" path="/category/{id}"/>
		<ee:transform doc:name="Transform Message" doc:id="56609be5-4020-438a-b400-bbd1dcd44af6" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  {
  "categoryid": 5,
  "name": "computer"
}

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetAllOrders" doc:id="c8a95432-6769-4aaf-b85d-06e06e42e42f" >
		<http:listener doc:name="Listener" doc:id="7625e03f-c58b-4732-a4b9-1ad84de468e1" config-ref="HTTP_Listener_config" path="/orders"/>
		<ee:transform doc:name="Transform Message" doc:id="7b2671e1-b5a3-492f-90c7-64110ab99cd6" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  [
  {
    "addressid": 0,
    "amount": 0,
    "created": {
      "date": 0,
      "day": 0,
      "hours": 0,
      "minutes": 0,
      "month": 0,
      "nanos": 0,
      "seconds": 0,
      "time": 0,
      "timezoneOffset": 0,
      "year": 0
    },
    "discountid": 0,
    "modified": {
      "date": 0,
      "day": 0,
      "hours": 0,
      "minutes": 0,
      "month": 0,
      "nanos": 0,
      "seconds": 0,
      "time": 0,
      "timezoneOffset": 0,
      "year": 0
    },
    "orderid": 0,
    "status": "string",
    "userid": 0
  }
]

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetOrderByid" doc:id="ed96aaf3-f9db-45c3-ac08-148e5d543508" >
		<http:listener doc:name="Listener" doc:id="66026030-13d3-4953-ad8d-71409589c16f" config-ref="HTTP_Listener_config" path="/order/{id}"/>
		<ee:transform doc:name="Transform Message" doc:id="5b772a87-ba5d-4604-87fa-14bf2a4d0f94" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  {
  "timestamp": 1597266933791,
  "status": 404,
  "error": "Not Found",
  "message": "",
  "path": "/order/1"
}

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="PostOrder" doc:id="769da355-8225-4341-85b8-0951482a5e03" >
		<http:listener doc:name="Listener" doc:id="bf19e2b3-39ce-4d97-990e-a3ce1dade8a1" config-ref="HTTP_Listener_config" path="/postorder"/>
		<ee:transform doc:name="Transform Message" doc:id="cc1f75d6-52f8-4073-a084-d03e1a1e51e8" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
  "products": [
    {
      "productId": 5,
      "quantity": 4
    }
  ],
  "uid": 25
} 

 

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="GetAllCategories" doc:id="8008e32e-2994-4e16-81b0-a3562eb32146" >
		<http:listener doc:name="Listener" doc:id="76a2577c-2493-4968-a48e-5b025c20e0c2" config-ref="HTTP_Listener_config" path="/categories"/>
		<ee:transform doc:name="Transform Message" doc:id="915ca766-dc4b-4df2-b579-eec37d9c903e" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---

  [
  {
    "categoryid": 10,
    "name": "labtop"
  },
  {
    "categoryid": 11,
    "name": "laptops"
  },
  {
    "categoryid": 12,
    "name": "home electronics"
  },
  {
    "categoryid": 13,
    "name": "mouse"
  },
  {
    "categoryid": 14,
    "name": "mobile accesories"
  },
  {
    "categoryid": 15,
    "name": "laptop skins"
  },
  {
    "categoryid": 16,
    "name": "laptop covers"
  },
  {
    "categoryid": 17,
    "name": "men's clothing"
  },
  {
    "categoryid": 18,
    "name": "women' wardrobe"
  },
  {
    "categoryid": 19,
    "name": "gaming geeks"
  },
  {
    "categoryid": 20,
    "name": "study buddy"
  },
  {
    "categoryid": 21,
    "name": "Shoes"
  },
  {
    "categoryid": 22,
    "name": "perfume"
  },
  {
    "categoryid": 77,
    "name": "Rolex"
  }
] 

]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
</mule>
